# 220729_TIL

## 비동기 처리 방법들

### 1. Callback(콜백)방식

어떤 요청이 완료된 후 실행할 함수를 콜백 함수라고 한다

예를 들어)

```
콜백함수
서버에 뭔가를 요청
```

와 같은 코드가 작성되어 있을 때, 콜백함수는 서버에 뭔가 요청을 한 다음에 실행하는 함수이다

콜백 함수를 써서 비동기 로직을 처리하게 되면 요청이 많아질 경우 코드 가독성이 떨어지고 문법도 복잡해진다 => 콜백 지옥

<br>

### 2. Promise 방식

Promise, then, catch

비동기 작업이 끝나면 알려주겠다고 약속한다는 의미이다

Promise를 사용하면 비동기 작업이 끝나는 시점을 알 수 있어 **동기 작업인 것처럼** 구성할 수 있다

여기서 말하는 '동기작업 처럼'의 의미는 Promise 이후에 then 또는 catch 방식으로 순차적으로 작동한다는 의미이다

Promise 객체는 `대기(작업 전)`, `이행(작업 완료 후)`, `거부(에러 발생, 실패)`라는 세 가지 상태를 가진다

- 사용 예시

```javascript
const promise = //Promise를 반환하는 비동기 작업
promise.then((result) => console.log('성공!').catch((error) => console.log('실패')
```

<br>

### 3. Axios 방식

Axios는 브라우저, Node.js를 위해서 만들어진 **Promise기반의 HTTP 비동기 통신 라이브러리**다

- 특징으로는

  1. 운영환경에 따라서 브라우저간 XMLHttpRequest 객체 또는 Node.js의 HTTP API를 사용한다

  2. Promise(ES6)를 사용(promise가 상태를 관리하여 다른 코드가 비동기적으로 실행될 수 있도록 만드는 객체)

  3. 요청(Request) 응답 (Response)을 JSON 형태로 자동 변경

<br>

### 4. async, await 방식

뒤에 then이나 catch를 붙이지 않고, 앞에 async, await 키워드를 붙임으로 써 비동기 작업을 동기적으로 만들 수 있게 해준다

비동기 작업 앞에 await을 붙이면 해당 비동기 작업이 끝날 때까지 기다린다. 이 때, 메인 작업은 멈추지 않고 그대로 계속 진행되며 await을 포함한 함수만 일시 정지된다.

async는 선언된 함수 내에서 비동기적으로 처리할 내용이 있다는 것을 알려주는 키워드이다. 그리고 그 비동기적으로 처리해야할 내용 앞에 await을 붙이는 것이다. async를 붙인 함수는 Promise 객체를 반환한다.

=> 동기적 순서로 처리할 일이 있는 비동기 작업에 await을 붙이고, 해당 작업을 포함하고 있는 함수에 async 를 붙이면 된다(둘이 짝궁으로 붙어 다닌다고 이해하면 됨)

<br>

### 5. 요약

#### Promise

비동기 처리에서 사용되는 객체

promise가 상태를 관리하여 다른 코드가 비동기적으로 실행될 수 있도록 만드는 객체

<br>

#### async

함수에서 비동기 처리를 위한 promise 동작을 한다는 것을 명시하는 키워드

#### await

호출되는 함수가 적절한 결과를 반환할 때까지 기다리도록 동작하게 만드는 키워드

<br>

#### Axios

Promise API를 활용하는 HTTP 비동기 통신 라이브러리